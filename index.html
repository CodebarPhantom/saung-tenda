<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <meta name="description" content="Loading...">
    <meta property="og:title" content="Loading...">
    <meta property="og:description" content="Loading...">
    <meta property="og:image" content="">
    <meta property="og:url" content="">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="id_ID">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Loading...">
    <meta name="twitter:description" content="Loading...">
    <meta name="twitter:image" content="">
    
    <style>
        /* Optimized CSS - Minified for performance */
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--primary:#25d366;--primary-hover:#128c7e;--secondary:#4285f4;--secondary-hover:#3367d6;--accent:#e74c3c;--text:#2c3e50;--text-muted:#555;--text-light:#666;--bg:#fff;--bg-light:#f8f9fa;--shadow:rgba(0,0,0,0.1);--shadow-md:rgba(0,0,0,0.15);--space:1rem;--space-sm:0.5rem;--space-lg:1.5rem;--space-xl:2rem;--space-2xl:3rem;--radius:8px;--radius-lg:12px}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.6;color:var(--text);background:var(--bg)}
        h1{font-size:2.5rem;font-weight:700;line-height:1.2;margin-bottom:var(--space-sm);color:var(--text)}
        h2{font-size:1.5rem;font-weight:600;line-height:1.4;margin-bottom:var(--space);color:var(--text)}
        h3{font-size:1.2rem;font-weight:600;margin-bottom:var(--space-sm);color:var(--text)}
        p{margin-bottom:var(--space);color:var(--text-muted)}
        .container{max-width:1200px;margin:0 auto;padding:0 var(--space)}
        .section{padding:var(--space-xl) 0}
        .section-alt{background:var(--bg-light)}
        .btn{display:inline-block;padding:var(--space-sm) var(--space-lg);margin:4px;border:none;border-radius:var(--radius);text-decoration:none;font-weight:600;text-align:center;cursor:pointer;transition:all 0.3s ease;min-height:44px;min-width:44px;touch-action:manipulation;box-shadow:0 2px 4px var(--shadow)}
        .btn-primary{background:var(--primary);color:white;border:2px solid var(--primary)}
        .btn-primary:hover{background:var(--primary-hover);border-color:var(--primary-hover);transform:translateY(-2px)}
        .btn-secondary{background:var(--secondary);color:white;border:2px solid var(--secondary)}
        .btn-secondary:hover{background:var(--secondary-hover);border-color:var(--secondary-hover);transform:translateY(-2px)}
        .btn-large{padding:var(--space) var(--space-xl);font-size:1.1rem;min-height:50px;font-weight:700;border-radius:var(--radius-lg)}
        .hero{background:#2c3e50;color:white;text-align:center;padding:var(--space-xl) 0;min-height:60vh;display:flex;align-items:center;position:relative;background-size:cover;background-position:center;background-repeat:no-repeat}
        .hero::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.4);z-index:1}
        .hero.has-image::before{background:rgba(0,0,0,0.5)}
        .hero .container{width:100%;position:relative;z-index:2}
        .hero h1{color:white;margin-bottom:var(--space);font-size:2.5rem;text-shadow:0 2px 4px rgba(0,0,0,0.7);font-weight:700}
        .hero .tagline{font-size:1.1rem;margin-bottom:var(--space-lg);color:white;opacity:1;text-shadow:0 2px 4px rgba(0,0,0,0.7);font-weight:500}
        .hero .location{font-size:0.9rem;margin-bottom:var(--space-xl);color:white;opacity:1;text-shadow:0 2px 4px rgba(0,0,0,0.7);font-weight:400}
        .hero .buttons{display:flex;flex-direction:column;gap:var(--space);align-items:center;max-width:300px;margin:0 auto}
        .hero .btn{width:100%;max-width:280px}
        .info-grid,.menu-grid{display:grid;grid-template-columns:1fr;gap:var(--space);margin-top:var(--space-lg)}
        .info-item,.menu-item{background:var(--bg);padding:var(--space-lg) var(--space);border-radius:var(--radius);box-shadow:0 2px 10px var(--shadow);min-height:44px;display:flex;flex-direction:column;justify-content:center;transition:transform 0.2s ease,box-shadow 0.2s ease;border:1px solid rgba(0,0,0,0.05)}
        .info-item:hover,.menu-item:hover{transform:translateY(-2px);box-shadow:0 4px 15px var(--shadow-md)}
        .info-item{text-align:center}
        .info-item .icon{font-size:2rem;margin-bottom:var(--space-sm);line-height:1}
        .info-item h3{font-size:1rem;margin-bottom:var(--space-sm);color:var(--text)}
        .info-item p{font-size:0.9rem;margin:0;color:var(--text-muted)}
        .menu-item h3{color:var(--text);margin-bottom:var(--space-sm);font-size:1.1rem;font-weight:600}
        .menu-item .price{font-size:1.2rem;font-weight:700;color:var(--accent);margin-bottom:var(--space-sm)}
        .menu-item .description{color:var(--text-light);font-size:0.9rem;margin:0}
        .advantages-list{list-style:none;margin-top:var(--space-xl)}
        .advantages-list li{background:var(--bg);padding:var(--space) var(--space-lg);margin-bottom:var(--space);border-radius:var(--radius);box-shadow:0 2px 10px var(--shadow);position:relative;padding-left:var(--space-2xl);transition:transform 0.2s ease;border-left:4px solid var(--primary)}
        .advantages-list li:hover{transform:translateX(4px)}
        .advantages-list li::before{content:"‚úì";position:absolute;left:var(--space);top:var(--space);color:var(--primary);font-weight:bold;font-size:1.2rem}
        .address{background:var(--bg);padding:var(--space-lg);border-radius:var(--radius);box-shadow:0 2px 10px var(--shadow);margin-bottom:var(--space-xl);border:1px solid rgba(0,0,0,0.05)}
        .maps-container{border-radius:var(--radius-lg);overflow:hidden;box-shadow:0 4px 20px var(--shadow-md);border:1px solid rgba(0,0,0,0.1)}
        .maps-container iframe{width:100%;height:300px;border:none}
        .final-cta{background:linear-gradient(135deg,#ff6b6b 0%,#ee5a24 100%);color:white;text-align:center;padding:var(--space-2xl) 0;position:relative}
        .final-cta::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.1);z-index:1}
        .final-cta .container{position:relative;z-index:2}
        .final-cta h2{color:white;margin-bottom:var(--space);text-shadow:0 2px 4px rgba(0,0,0,0.3)}
        .final-cta p{color:rgba(255,255,255,0.95);font-size:1.1rem;margin-bottom:var(--space-xl);text-shadow:0 1px 2px rgba(0,0,0,0.2)}
        .footer{background:var(--text);color:white;text-align:center;padding:var(--space-xl) 0}
        .footer h3{color:white;margin-bottom:var(--space)}
        .footer p{color:rgba(255,255,255,0.8);margin-bottom:var(--space-sm)}
        .footer .contact-info{font-size:0.9rem;margin-bottom:var(--space)}
        .footer .copyright{font-size:0.8rem;opacity:0.7;margin-top:var(--space);padding-top:var(--space);border-top:1px solid rgba(255,255,255,0.2)}
        @media (max-width:374px){.container{padding:0 0.75rem}.hero h1{font-size:1.8rem}.hero .tagline{font-size:1rem}.btn{padding:0.6rem 1.2rem;font-size:0.9rem}}
        @media (min-width:480px){.hero h1{font-size:3rem}.hero .tagline{font-size:1.2rem}h2{font-size:1.6rem}h3{font-size:1.3rem}}
        @media (min-width:768px){.hero{padding:var(--space-2xl) 0}.hero h1{font-size:3.5rem}.hero .tagline{font-size:1.3rem}.hero .location{font-size:1rem}.hero .buttons{flex-direction:row;justify-content:center;max-width:none;gap:var(--space-lg)}.hero .btn{width:auto;max-width:none}h2{font-size:1.8rem}h3{font-size:1.4rem}.info-grid{grid-template-columns:repeat(2,1fr);gap:var(--space-lg)}.menu-grid{grid-template-columns:repeat(2,1fr);gap:var(--space-lg)}.info-item h3{font-size:1.1rem}.menu-item h3{font-size:1.2rem}.menu-item .price{font-size:1.3rem}}
        @media (min-width:1024px){.container{padding:0 var(--space-xl)}.section{padding:var(--space-2xl) 0}.hero h1{font-size:4rem}.hero .tagline{font-size:1.4rem}h2{font-size:2rem}h3{font-size:1.5rem}.info-grid{grid-template-columns:repeat(4,1fr);gap:var(--space-xl)}.menu-grid{grid-template-columns:repeat(3,1fr);gap:var(--space-xl)}.maps-container iframe{height:400px}.info-item h3{font-size:1.2rem}.menu-item h3{font-size:1.3rem}.menu-item .price{font-size:1.4rem}.menu-item:hover{transform:translateY(-5px)}}
        @media (min-width:1200px){.hero h1{font-size:4.5rem}.hero .tagline{font-size:1.5rem}}
        .loading{opacity:0.5;pointer-events:none}
        @media (prefers-reduced-motion:reduce){*{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important}}
        .btn:focus,a:focus{outline:2px solid #4285f4;outline-offset:2px}
    </style>
</head>
<body class="loading">
    <header class="hero" role="banner">
        <div class="container">
            <h1 id="business-name">Loading...</h1>
            <p class="tagline" id="business-tagline">Loading...</p>
            <p class="location" id="business-location">üìç Loading...</p>
            <nav class="buttons" aria-label="Primary actions">
                <a href="#" id="hero-whatsapp-btn" class="btn btn-primary btn-large" aria-label="Contact via WhatsApp">üì± Pesan via WhatsApp</a>
                <a href="#" id="hero-maps-btn" class="btn btn-secondary" aria-label="View location on Google Maps">üìç Lihat di Google Maps</a>
            </nav>
        </div>
    </header>

    <main role="main">
        <section class="quick-info section-alt" aria-labelledby="quick-info-heading">
            <div class="container">
                <h2 id="quick-info-heading">Informasi Cepat</h2>
                <div class="info-grid" role="list" aria-label="Quick business information">
                    <article class="info-item" role="listitem">
                        <div class="icon" aria-hidden="true">üïí</div>
                        <h3>Jam Buka</h3>
                        <p id="opening-hours">Loading...</p>
                    </article>
                    <article class="info-item" role="listitem">
                        <div class="icon" aria-hidden="true">üí∞</div>
                        <h3>Harga</h3>
                        <p id="price-range">Loading...</p>
                    </article>
                    <article class="info-item" role="listitem">
                        <div class="icon" aria-hidden="true">üçΩÔ∏è</div>
                        <h3>Layanan</h3>
                        <p id="services">Loading...</p>
                    </article>
                    <article class="info-item" role="listitem">
                        <div class="icon" aria-hidden="true">üí≥</div>
                        <h3>Pembayaran</h3>
                        <p id="payment-methods">Loading...</p>
                    </article>
                </div>
            </div>
        </section>

        <section class="menu section" aria-labelledby="menu-heading">
            <div class="container">
                <h2 id="menu-heading">Menu Unggulan</h2>
                <div class="menu-grid" id="menu-container" role="list" aria-label="Featured menu items"></div>
            </div>
        </section>

        <section class="recommendations section-alt" aria-labelledby="recommendations-heading">
            <div class="container">
                <h2 id="recommendations-heading">Mengapa Memilih Kami?</h2>
                <ul class="advantages-list" id="advantages-list" aria-label="Business advantages"></ul>
            </div>
        </section>

        <section class="location section" aria-labelledby="location-heading">
            <div class="container">
                <h2 id="location-heading">Lokasi Kami</h2>
                <div class="location-content">
                    <address class="address">
                        <h3>üìç Alamat Lengkap</h3>
                        <p id="full-address">Loading...</p>
                        <p id="landmark">Loading...</p>
                    </address>
                    <div class="maps-container">
                        <iframe id="maps-embed" src="" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="Lokasi Warung" aria-label="Google Maps showing restaurant location"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <section class="final-cta" aria-labelledby="cta-heading">
            <div class="container">
                <h2 id="cta-heading">Siap Menikmati Masakan Lezat?</h2>
                <p>Jangan tunggu lagi! Hubungi kami sekarang untuk memesan atau bertanya tentang menu hari ini.</p>
                <a href="#" id="final-whatsapp-btn" class="btn btn-primary btn-large" aria-label="Contact us via WhatsApp">üì± Hubungi Sekarang via WhatsApp</a>
            </div>
        </section>
    </main>

    <footer class="footer" role="contentinfo">
        <div class="container">
            <h3 id="footer-business-name">Loading...</h3>
            <p class="contact-info">WhatsApp: <span id="footer-whatsapp">Loading...</span></p>
            <p id="footer-description">Loading...</p>
            <p class="copyright">¬© 2026 <span id="footer-copyright-name">Loading...</span>. Dibuat dengan ‚ù§Ô∏è untuk UMKM Indonesia.</p>
        </div>
    </footer>

    <script src="data.js"></script>
    <script>
        class UMKMTemplateRenderer {
            constructor(data) { this.data = data; }

            init() {
                this.injectMetaTags();
                this.renderHero();
                this.renderQuickInfo();
                this.renderMenu();
                this.renderRecommendations();
                this.renderLocation();
                this.renderCTA();
                this.renderFooter();
                document.body.classList.remove('loading');
            }

            injectMetaTags() {
                try {
                    const meta = this.data.meta || {};
                    const business = this.data.business || {};
                    
                    const title = this.encodeHTML(meta.title || business.name || 'UMKM Landing Page');
                    const description = this.encodeHTML(meta.description || business.tagline || 'Halaman bisnis UMKM');
                    const imageUrl = this.generateImageURL(meta.image || './assets/preview.svg');
                    const pageUrl = this.encodeHTML(meta.url || window.location.href);
                    
                    document.title = title;
                    
                    this.setMeta('name', 'description', description);
                    this.setMeta('property', 'og:title', title);
                    this.setMeta('property', 'og:description', description);
                    this.setMeta('property', 'og:image', imageUrl);
                    this.setMeta('property', 'og:url', pageUrl);
                    this.setMeta('property', 'og:type', meta.type || 'website');
                    this.setMeta('property', 'og:locale', meta.locale || 'id_ID');
                    this.setMeta('property', 'og:image:width', '1200');
                    this.setMeta('property', 'og:image:height', '630');
                    this.setMeta('name', 'twitter:card', 'summary_large_image');
                    this.setMeta('name', 'twitter:title', title);
                    this.setMeta('name', 'twitter:description', description);
                    this.setMeta('name', 'twitter:image', imageUrl);
                    
                    this.injectStructuredData();
                } catch (error) {
                    console.error('Error injecting meta tags:', error);
                }
            }

            setMeta(attr, name, content) {
                if (!content) return;
                let meta = document.querySelector(`meta[${attr}="${name}"]`);
                if (meta) {
                    meta.content = content;
                } else {
                    meta = document.createElement('meta');
                    meta.setAttribute(attr, name);
                    meta.content = content;
                    document.head.appendChild(meta);
                }
            }

            encodeHTML(content) {
                if (!content || typeof content !== 'string') return '';
                const div = document.createElement('div');
                div.textContent = content;
                return div.innerHTML;
            }

            generateImageURL(path) {
                if (!path) return '';
                if (path.startsWith('http')) return path;
                
                const base = window.location.origin;
                const current = window.location.pathname;
                const basePath = current.substring(0, current.lastIndexOf('/') + 1);
                
                if (path.startsWith('./')) return `${base}${basePath}${path.substring(2)}`;
                if (path.startsWith('/')) return `${base}${path}`;
                return `${base}${basePath}${path}`;
            }

            injectStructuredData() {
                try {
                    const business = this.data.business || {};
                    const contact = this.data.contact || {};
                    const meta = this.data.meta || {};
                    
                    const existing = document.getElementById('structured-data');
                    if (existing) existing.remove();
                    
                    const data = {
                        "@context": "https://schema.org",
                        "@type": "Restaurant",
                        "name": business.name || "UMKM Business",
                        "description": business.tagline || meta.description || "Local UMKM business",
                        "url": meta.url || window.location.href,
                        "telephone": contact.whatsapp ? `+${contact.whatsapp}` : undefined,
                        "address": contact.address ? {"@type": "PostalAddress", "streetAddress": contact.address} : undefined,
                        "openingHours": business.openingHours || undefined,
                        "priceRange": business.priceRange || undefined,
                        "image": this.generateImageURL(meta.image || './assets/preview.svg'),
                        "servesCuisine": "Indonesian"
                    };
                    
                    Object.keys(data).forEach(key => {
                        if (data[key] === undefined) delete data[key];
                    });
                    
                    const script = document.createElement('script');
                    script.id = 'structured-data';
                    script.type = 'application/ld+json';
                    script.textContent = JSON.stringify(data);
                    document.head.appendChild(script);
                } catch (error) {
                    console.error('Error injecting structured data:', error);
                }
            }

            renderHero() {
                try {
                    const business = this.data.business || {};
                    const contact = this.data.contact || {};
                    const assets = this.data.assets || {};
                    
                    // Set hero background image if available
                    const heroSection = document.querySelector('.hero');
                    if (heroSection && assets.heroBackground) {
                        const imageUrl = this.generateImageURL(assets.heroBackground);
                        heroSection.style.backgroundImage = `url('${imageUrl}')`;
                        heroSection.classList.add('has-image');
                    }
                    
                    this.updateEl('business-name', business.name || 'Nama Bisnis');
                    this.updateEl('business-tagline', business.tagline || 'Deskripsi bisnis');
                    this.updateEl('business-location', `üìç ${contact.address || 'Alamat tidak tersedia'}`);
                    
                    const waBtn = document.getElementById('hero-whatsapp-btn');
                    if (waBtn) {
                        if (contact.whatsapp && contact.whatsappMessage) {
                            waBtn.href = this.generateWAURL(contact.whatsapp, contact.whatsappMessage);
                            waBtn.target = '_blank';
                        } else {
                            waBtn.href = '#';
                            waBtn.style.opacity = '0.5';
                        }
                    }
                    
                    const mapsBtn = document.getElementById('hero-maps-btn');
                    if (mapsBtn) {
                        if (contact.mapsUrl) {
                            mapsBtn.href = contact.mapsUrl;
                            mapsBtn.target = '_blank';
                        } else {
                            mapsBtn.href = '#';
                            mapsBtn.style.opacity = '0.5';
                        }
                    }
                } catch (error) {
                    console.error('Error rendering Hero:', error);
                }
            }

            renderQuickInfo() {
                try {
                    const business = this.data.business || {};
                    const services = this.data.services || {};
                    
                    this.updateEl('opening-hours', business.openingHours || 'Jam buka tidak tersedia');
                    this.updateEl('price-range', business.priceRange || 'Harga tidak tersedia');
                    
                    const servicesList = [];
                    if (services.dineIn) servicesList.push('Dine-in');
                    if (services.takeaway) servicesList.push('Take Away');
                    if (services.delivery) servicesList.push('Delivery');
                    this.updateEl('services', servicesList.length > 0 ? servicesList.join(' & ') : 'Layanan tidak tersedia');
                    
                    const payments = services.paymentMethods;
                    this.updateEl('payment-methods', Array.isArray(payments) && payments.length > 0 ? payments.join(', ') : 'Metode pembayaran tidak tersedia');
                } catch (error) {
                    console.error('Error rendering Quick Info:', error);
                }
            }

            renderMenu() {
                try {
                    const container = document.getElementById('menu-container');
                    if (!container) return;
                    
                    container.innerHTML = '';
                    const items = this.data.menu;
                    
                    if (!Array.isArray(items) || items.length === 0) {
                        container.innerHTML = '<div class="menu-item"><h3>Menu Tidak Tersedia</h3><p class="description">Silakan hubungi kami untuk informasi menu terbaru</p></div>';
                        return;
                    }
                    
                    items.forEach((item) => {
                        if (!item || typeof item !== 'object') return;
                        
                        const div = document.createElement('article');
                        div.className = 'menu-item';
                        div.setAttribute('role', 'listitem');
                        
                        const name = item.name || 'Nama menu tidak tersedia';
                        const price = typeof item.price === 'number' ? item.price : 0;
                        const desc = item.description || 'Deskripsi tidak tersedia';
                        
                        div.innerHTML = `<h3>${name}</h3><div class="price">Rp ${price.toLocaleString('id-ID')}</div><p class="description">${desc}</p>`;
                        container.appendChild(div);
                    });
                } catch (error) {
                    console.error('Error rendering Menu:', error);
                }
            }

            renderRecommendations() {
                try {
                    const list = document.getElementById('advantages-list');
                    if (!list) return;
                    
                    list.innerHTML = '';
                    const advantages = this.data.business?.advantages;
                    
                    if (!Array.isArray(advantages) || advantages.length === 0) {
                        list.innerHTML = '<li>Keunggulan bisnis tidak tersedia</li>';
                        return;
                    }
                    
                    advantages.forEach((advantage) => {
                        if (typeof advantage === 'string' && advantage.trim()) {
                            const li = document.createElement('li');
                            li.textContent = advantage;
                            list.appendChild(li);
                        }
                    });
                } catch (error) {
                    console.error('Error rendering Recommendations:', error);
                }
            }

            renderLocation() {
                try {
                    const contact = this.data.contact || {};
                    const location = this.data.location || {};
                    
                    this.updateEl('full-address', contact.address || 'Alamat tidak tersedia');
                    this.updateEl('landmark', location.landmark || 'Patokan lokasi tidak tersedia');
                    
                    const embed = document.getElementById('maps-embed');
                    if (embed) {
                        if (contact.mapsEmbedUrl) {
                            embed.src = contact.mapsEmbedUrl;
                        } else if (contact.mapsUrl) {
                            const embedUrl = this.generateMapsEmbedURL(contact.mapsUrl);
                            if (embedUrl) embed.src = embedUrl;
                        }
                    }
                } catch (error) {
                    console.error('Error rendering Location:', error);
                }
            }

            renderCTA() {
                try {
                    const contact = this.data.contact || {};
                    const btn = document.getElementById('final-whatsapp-btn');
                    
                    if (btn) {
                        if (contact.whatsapp && contact.whatsappCTAMessage) {
                            btn.href = this.generateWAURL(contact.whatsapp, contact.whatsappCTAMessage);
                        } else {
                            btn.href = '#';
                            btn.style.opacity = '0.5';
                        }
                    }
                } catch (error) {
                    console.error('Error rendering CTA:', error);
                }
            }

            renderFooter() {
                try {
                    const business = this.data.business || {};
                    const contact = this.data.contact || {};
                    
                    this.updateEl('footer-business-name', business.name || 'Nama Bisnis');
                    this.updateEl('footer-whatsapp', contact.whatsapp ? this.formatPhone(contact.whatsapp) : 'Tidak tersedia');
                    this.updateEl('footer-description', business.footerDescription || 'Deskripsi bisnis tidak tersedia');
                    this.updateEl('footer-copyright-name', business.name || 'Nama Bisnis');
                } catch (error) {
                    console.error('Error rendering Footer:', error);
                }
            }

            updateEl(id, content) {
                const el = document.getElementById(id);
                if (el) el.textContent = content;
            }

            generateWAURL(phone, message) {
                if (!phone || !message) return '#';
                const clean = phone.toString().replace(/\D/g, '');
                if (clean.length < 10) return '#';
                return `https://wa.me/${clean}?text=${encodeURIComponent(message)}`;
            }

            generateMapsEmbedURL(url) {
                if (!url || typeof url !== 'string') return null;
                
                if (url.includes('maps.google.com/maps?q=')) {
                    const q = url.split('?q=')[1];
                    if (q) {
                        const coords = q.split('&')[0];
                        return `https://www.google.com/maps/embed/v1/place?key=&q=${encodeURIComponent(coords)}`;
                    }
                }
                return `https://maps.google.com/maps?output=embed&q=${encodeURIComponent(url)}`;
            }

            formatPhone(phone) {
                if (!phone) return 'Tidak tersedia';
                const str = phone.toString();
                if (str.startsWith('62')) {
                    const formatted = str.replace(/^62/, '+62 ');
                    return formatted.replace(/(\d{3})(\d{4})(\d{3,4})/, '$1-$2-$3');
                }
                return str;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            if (typeof umkmData !== 'undefined') {
                new UMKMTemplateRenderer(umkmData).init();
            } else {
                console.error('UMKM data not found. Please ensure data.js is loaded.');
            }
        });
    </script>
</body>
</html>